<style lang="scss">
  main {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    padding: 5px 0;
    margin: 0;
    font-family: 'Open Sauce One', sans-serif;
  }
  .heading {
    margin: 20px 0;
    color: #72035d;
    font-weight: 800;
  }

  section {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .quote {
    font-style: italic;
    margin: 2vh 0;
    max-width: 800px;
    width: 90%;
    text-align: center;
  }

  .countdown {
    font-weight: 400;
    margin: 0;
    width: 100%;

    p {
      display: flex;
      justify-content: space-evenly;
      margin: 0;
      font-size: 9vw;
      padding: 5px 15px;
    }
  }

  form {
    width: calc(100% - 24px);
    max-width: 800px;
    display: flex;
    flex-direction: row;
    gap: 24px;
    justify-content: center;

      div {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }
  }

  input {
    padding: 10px;
    font-size: 14px;
    box-sizing: border-box;
    width: 278px;
    max-width: 90vw;
  }

  label {
    font-weight: 400;
    font-size: 14px;
    position: relative;
    top: 7px;
    left: 10px;
    background-color: #fff;
    padding: 0 5px;
    height: fit-content;
  }

  @media screen and (max-width: 800px) {
    form {
      flex-direction: column;
      align-items: center;
    }
  }

  @media screen and (max-width: 300px) {
    .countdown {
      font-size: 8vw;

      span {
        padding: 5px 4vw;
      }
    }
  }
</style>

<main>
  <header><img src="/logo_nc 1.png" alt="Natural Cycles" /></header>
  <section>
    @if (title().length > 0) {
      <h1 class="heading length-{{ title().length }}" [style.--len]="title().length">
        Time to {{ title() }}
      </h1>
    }
    @if (title().length === 0) {
      <h1 class="heading"  [style.--len]="3">Countdown</h1>
    }
    @if (selectedDate()) {
      <div class="countdown">
        <p>
          <span>{{ countdown().days }}d, </span>
          <span>{{ countdown().hours }}h, </span>
          <span>{{ countdown().minutes }}m, </span>
          <span>{{ countdown().seconds }}s</span>
        </p>
      </div>
    }
    <div class="quote">
      <p>{{ quote() || 'Loading...' }}</p>
    </div>
    <form (submit)="$event.preventDefault()">
      <div>
        <label for="title"> Title</label>
        <input name="title" id="title" (change)="onTitleChange($event)" maxlength="50" [value]="title()" />
      </div>
      <div>
        <label for="date">Date</label>
        <input type="date" name="date" id="date" (change)="onDateChange($event)" [value]="selectedDateIso" />
      </div>
    </form>
  </section>
</main>

<router-outlet />
